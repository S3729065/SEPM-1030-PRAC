<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<!-- <meta http-equiv="X-UA-Compatible" content="IE=edge"> -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Timetable</title>
</head>

<div class="jumbotron text-center">
	<h1><small>Form </small>Your Shift</h1>
	<p><i>Shift Allocation Form</i></p>
</div>

<a href="./index.html" class="btn btn-secondary">Return</a>

<div class="col-xs-6 col-sm-4">
	<h2 id="staffMemberName">John Doe</h2>
	<p>This is the Roster Calendar. <br>
		Input your shift details here.
	</p>
</div>

<body> <!--This is where the body is at. A comment is here serving as a code line-break-->
<!--Code Line Break!-->
<!--Double Code LINE BREAK!!-->
<div class="container-fluid" id="hrm-timetable-detailer">
	<div class="row">
		<div class="col-xs-6 col-sm-4">
<div class="form-group">
	<label for="staff-shift-surname">Staff Member Surname</label>
	<input type="text" name="staff-shift-surname" id="staff-shift-surname" placeholder="Staff Member Surname" class="form-control">
</div>
<form action="../php/shiftAllocator.php" method="post">
<div class="form-group">
	<label for="time-for-staff">Time</label>
	<select name="time-for-staff" id="time-for-staff" class="form-control">
		<option value="6:00AM">6:00AM (Start of Shift)</option>
		<option value="9:00AM">9:00AM (Start of Shift)</option>
		<option value="2:00PM">2:00PM (Start of Shift)</option>
	</select>
</div>

<div class="form-group">
	<label for="days-of-allocation">Day</label>
	<select name="days-of-allocation" id="days-of-allocation" class="form-control">
		<option value="Monday">Monday</option>
		<option value="Tuesday">Tuesday</option>
		<option value="Wednesday">Wednesday</option>
		<option value="Thursday">Thursday</option>
		<option value="Friday">Friday</option>
	</select>
</div>

<div class="form-group">
	<button id="allocate-workshift-button">Allocate Workshift</button>
</div>
</form>
<script>
$(document).ready( function () {
	var hrmmWorshiftInstval = $('#hrm-workshift-calendar').DataTable({
			ordering: false,
			searching: false,
			select: true
	});
	
	var staffShiftSurname = Document.getElementById('staff-shift-surname').value
	var daysOfAllocation = Document.getElementById('days-of-allocation').value
	var timeForStaff = Document.getElementById('time-for-staff').value // these values can be transformed with JavalinIO's ,,.formParams()'' function.

	var additionalDatum = {
		staffShiftSurname : {daysOfAllocation, timeForStaff}
	} // have the values act as tuple-like objects to pass into ,,localStorage'' or ,,sessionStorage''
	// push all these other values into a tuple-list or so.
	var userInputtedValues = hrmmWorkshiftInstval.$('input, select').serialize(); // <- DataTables API

	var cellIndex = Document.getElementById('hrm-workshift-calendar').cell

	$('#allocate-workshift-button').on('click', function () {
		hrmmWorkshiftInstval.row.add([
			cellIndex + additionalDatum + userInputtedValues
		]).draw(false);

		cellIndex++;
	});
	// "Transfer data from one HTML file to another", [Accessed on: 13 May 2021] [online] Available at: https://stackoverflow.com/questions/17502071/transfer-data-from-one-html-file-to-another
	var datacellInformation = "http://views/html/timetable.html?surname=" + encodeURIComponent(staffShiftSurname) +
		"?date=" + encodeURIComponent(daysOfAllocation) +
			"?time=" + encodeURIComponent(timeForStaff)

	localStorage.setItem('mPassingObjectData', additionalDatum)

	document.location.href = datacellInformation // NOTE(Daniel): JSON.stringify(datacellRetval)|>.parse(datacellRetval).keyIndex0..keyIndex8?
}); // "How to pass data from one page to another page html", [Accessed on: 13 May 2021], [online] Available at: https://stackoverflow.com/questions/36599781/how-to-pass-data-from-one-page-to-another-page-html?noredirect=1&lq=1
</script>
		</div>
	</div>
</div>
<!--T R I P L E Code Line Break!-->
<!--QUADRUPLE Code ... LINE BREAK!!!-->
</body>
<!---->
<footer>
<!--Getting Started Bootstrap. [online] Available at: "https://getbootstrap.com/docs/3.4/getting-started/#download". [Accessed on: 19/04/21]-->
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
<!-- Optional theme -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css" integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">
<!-- Latest compiled and minified JavaScript -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
<!-- DataTables -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.24/b-1.7.0/cr-1.5.3/date-1.0.3/fc-3.3.2/fh-3.1.8/kt-2.6.1/r-2.2.7/rr-1.2.7/sl-1.3.3/datatables.min.css"/>
<!--The DataTables CDN provides a convenient way to quickly get started with DataTables. The DataTables software is hosted on the CDN (powered by CloudFlare) and you simply need to include the HTML and CSS files as directed below.--> 
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.24/b-1.7.0/cr-1.5.3/date-1.0.3/fc-3.3.2/fh-3.1.8/kt-2.6.1/r-2.2.7/rr-1.2.7/sl-1.3.3/datatables.min.js"></script>
<!-- Locally made JavaScript source code -->
<script src="../js/resourceManager.js"></script>
<script src="../js/timetableManager.js"></script>
</footer>
</html>